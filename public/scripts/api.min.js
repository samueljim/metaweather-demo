'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},proxy,api,url,weather;api='https://www.metaweather.com/api/',proxy='',proxy='http://proxy.samueljim.com/';var MetaWeather=function(){this.apiUrl=api,this.proxy=proxy,this.q=function(a){return url=this.proxy+this.apiUrl+a,console.info('Reqesting '+url),new Promise(function(b,c){var d=!1;try{d=new XMLHttpRequest}catch(f){console.error(f)}d&&'withCredentials'in d?(console.info('it\'s a standard Cors request'),d.open('GET',url,!0),d.onload=function(){200<=this.status&&300>this.status?b(d):c({status:this.status,statusText:d.statusText})},d.onerror=function(){console.error('and something went wrong :( '),c({status:this.status,statusText:d.statusText})},d.send()):'undefined'==typeof XDomainRequest?console.error('there is no xhr support!'):(console.info('it\'s a IE Cors request'),d=new XDomainRequest,d.open('GET',url),d.onload=function(){this.readyState=4,this.onreadystatechange instanceof Function&&this.onreadystatechange(),200<=this.status&&300>this.status?b(d.response):c({status:this.status,statusText:d.statusText})},d.onerror=function(){console.error('and something went wrong :( '),c({status:this.status,statusText:d.statusText})},d.send())})}};MetaWeather.prototype.search=function(){var a=this;return{query:function query(b){return a.q('location/search/?query='+b)},latLon:function latLon(b){return'object'===('undefined'==typeof b?'undefined':_typeof(b))&&(b=b.lat+','+b.lon),a.q('location/search/?lattlong='+b)}}},MetaWeather.prototype.location=function(a,b){var c=this;return'undefined'==typeof b&&'number'==typeof a?c.q('location/'+a):('object'===('undefined'==typeof a?'undefined':_typeof(a))&&(b=a.date,a=a.woeid),'number'==typeof a&&'string'==typeof b)?c.q('location/'+a+'/'+b.replace(/\-/g,'/')):void 0};